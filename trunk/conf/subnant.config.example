<?xml version="1.0"?>

<configuration description="Settings for Subnant">

    <logs-max-age
        description="Maximum number of days Subnant keeps its logs"
        conditional="false (forever) or number of days to keep logs">30</logs-max-age>

    <nantcontrib-bindir
        description="Location of NAntContrib binary files"
        conditional="If empty assume NAntContrib already in environment path">C:\Program Files\NAntContrib\bin</nantcontrib-bindir>

    <svn-bindir
        description="Location of Subversion binary files"
        conditional="If empty assume Subversion binaries already in environment path"></svn-bindir>

    <svn-repos description="Repository settings">
        <svn-root
            description="Root location of repositories"
            conditional="Must exist in file system">/svnroot/repos</svn-root>
        <fs-type
            description="Type of repository"
            conditional="bdb or fsfs">bdb</fs-type>
        <config-dir
            description="Read user configuration files from directory"
            conditional="If empty assume default configuration file"></config-dir>
        <bdb-log-keep 
            description="Disable automatic log file removal [Berkeley DB]" 
            conditional="true or false">false</bdb-log-keep>
        <bdb-txn-nosync 
            description="Disable fsync at transaction commit [Berkeley DB]"
            conditional="true or false">false</bdb-txn-nosync>
    </svn-repos>

    <svn-dumps description="Repository dump settings">
        <dump-root
            description="Root location of repository dumps"
            conditional="Must exist in file system">/svnroot/dumps</dump-root>
        <compress
            description="Compress dump files"
            conditional="false or compression level 1 (lowest) to 9 (highest)">6</compress>
        <incremental
            description="Dump incrementally"
            conditional="true or false">false</incremental>
        <deltas
            description="Use deltas in dump output"
            conditional="true or false">false</deltas>
    </svn-dumps>

    <mail description="Email settings">
        <from description="Email sent from this address">subnant@example.com</from>
        <host description="Host used to send email">localhost</host>
        <tolist
            description="Addresses mailed result of Subnant target execution"
            conditional="Comma separated list of email addresses">svnadmin@example.com</tolist>
            <!-- ::TODO:: Use <to> elements when NAnt <foreach> task supports xml/xpath -->
            <!-- <to>svnadmin@example.com</to> -->
            <!-- <to>support@example.com</to> -->
        <prefix description="Subject prefix for email generated by Subnant target">[Subnant]</prefix>
    </mail>

    <bugtraq description="Bugtraq settings">
        <message
            description="Bugtracking log message format"
            conditional="Must contain %BUGID%">Issue : %BUGID%</message>
        <append
            description="Append bugtracking message to end of log" 
            conditional="true or false">true</append>
        <url
            description="URL of bugtracking tool"
            conditional="Valid URL and contain %BUGID%">http://localhost/show_bug.cgi?id=%BUGID%</url>
        <label
            description="Label shown next to input of issue number"
            conditional="Length should be kept to less than 25 characters">Bug-ID / Issue-Nr:</label>
        <number
            description="Only allow numbers in issue number"
            conditional="true or false">true</number>
        <warnifnoissue
            description="Warn on empty issue number"
            conditional="true or false">false</warnifnoissue>
        <logregex
            description="One or two regular expressions, separated by a newline"
            conditional="Valid regex"></logregex>
    </bugtraq>

</configuration>
